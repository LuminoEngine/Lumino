Coding guideline
==========

実装コードについては特に規則は設けません。 [周囲のコードと一貫性を持たせるようにします。](https://google.github.io/styleguide/cppguide.html#Parting_Words)

公開 API についてはいくつか守らなければならないことがあります。特に複数プログラミング言語に対応するためのバインドコードの生成のためにいくつか特殊なマクロコードでコードをマークすることがあります。

目標
----------

### 簡潔さより明確さを重視する

少ない文字数でコードを書けるようにすることが目標ではありません。

Lumino の簡潔さは、コードの書き手ではなく読み手にとっての明確さです。


公開 API のルール
----------

### 関数

副作用の有無と計算量によって名前をつけます。

* 副作用があったり、計算が定数オーダーとならないものは動詞句とします。例：`sort()`, `find()`
* それ以外の、副作用がなく、定数オーダーとなるものは名詞句とします。例：`length()`, `front()`

### 仮想関数

- エンジン内部から特定のタイミングを通知するために仮想関数を公開することができます。
- 関数名は `on` で始めます。例：`onUpdate`, `onRender`

> ライトウェイトなゲームエンジンやクリエイティブ向けのフレームワークでは `on` をつけないことが多いです。
> しかし Lumino では「エンジン内部から呼び出される特殊な関数」であることを明確に示すため、命名規則を設けます。
> これは関数定義の周辺に仮想関数であることを示すキーワードを省略可能(あるいは存在しない)である言語や、FlatC-API で通常関数と区別するために重要になります。
> 逆に言うと、このようなケース以外で仮想関数は公開しません。
> (NOTE: 多くの場合、仮想関数よりもコールバック関数を登録する方が拡張性・再利用性の点で有利です)

