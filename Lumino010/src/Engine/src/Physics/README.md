Physics
==========

### btRigidBody や b2Body といったバックエンドの Body オブジェクトは遅延構築する

Group など一部のプロパティは、Body 作成時や Body を World に追加するときにしか設定できない。
これらのプロパティはエディタからは頻繁に変更される。ランタイムではあまり変更されるものではないが、それでもゼロではない。
変更するには一度 Body を World から除外して再追加などの対策が必要なのだが、これをユーザープログラムでやるのはすごく面倒。
なので RigidBody などはプロパティの変更を検知したら次のシミュレーション実行前に、Body オブジェクトを遅延構築する。

### 衝突コールバックも遅延実行する

Bullet は不明だが、Box2D は衝突コールバック内からのオブジェクト作成は禁止されている。
http://hkpr.info/flash/lib/doc/box2d-2.0.2/Box2D/Dynamics/b2ContactListener.html
同様に姿勢変更や Group などのプロパティ変更も避けるべき。

実際にゲーム組むときは、何かと接触したら別のオブジェクトを生成するようなことはよくある。
この時に制約を気にしたくない。




